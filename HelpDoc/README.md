<center>

![](logo.jpg)

<font size = "6">光魔转码器 V1.0<br>使用帮助</font>

<br><br><br><br><br><br><br><br><br><br><br><br>

<font size = "6">目录</font>

1 界面操作.................................................................................................................................................................03  
1.1 菜单栏..................................................................................................................................................................03  
1.2 工具栏..................................................................................................................................................................03  
1.3 裁剪区域..............................................................................................................................................................03  
2 参数设定.................................................................................................................................................................03  
2.1 输入文件（Input）.............................................................................................................................................03  
2.2 输入音轨（External Audio）.............................................................................................................................04  
2.3 起始时间和结束时间（Start, End）...................................................................................................................04  
2.4 线程数（Threads）............................................................................................................................................04  
2.5 编码器（Video Codec）.....................................................................................................................................04  
2.6 像素格式（Pixel Format）.................................................................................................................................04  
2.7 编码速度（Preset）...........................................................................................................................................04  
2.8 关键帧间隔（I-Frame Interval）.......................................................................................................................04  
2.9 全局码率（Global Bitrate）..............................................................................................................................04  
2.10 缩放（Scale）...................................................................................................................................................04  
2.11 码率（Bitrate）................................................................................................................................................05  
3 错误信息.................................................................................................................................................................05  
3.1 输入文件不支持（Invalid input video）...........................................................................................................05  
3.2 输入文件长度小于结束时间（Input video duration less than end time）...................................................05  
3.3 输入音轨长度小于结束时间（External audio duration less than end time）..............................................05  
3.4 输入音轨不支持（Invalid external audio file）...............................................................................................05  
3.5 硬件编码器配置失败（No NVENC capable devices found）.........................................................................05  
3.6 其他不常见的错误（Transcode has failed）...................................................................................................05  

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

</center>

## 1 界面操作

### 1.1 菜单栏

1. 文件(File)
   新建(New) - 创建一个新的未保存的临时工程.
   打开(Open) - 打开扩展名为Lmcoder的工程，也可以通过双击选择TransCoder软件打开文件。
   关闭(Close) - 关闭程序，如果未保存会提示保存。
   保存(Save) - 保存文件，将修改保存到文件中。如果是临时文件，则可以选择路径和文件名。
   最近打开的文件(Recent Files) - 最近打开的文件列表。
2. 设置(Settings)
   项目分辨率(Resolution) - 设置分别率，通过此分辨率确定视频大小和裁剪位置的百分比。
   参考图片(Image) - 设置项目参考图片， 通过参考图片可以帮助选中想要裁剪的区域。
3. 帮助
   关于(About) - 软件信息。
   帮助(View Help) - 打开帮助文档。

### 1.2 工具栏

参考线工具(Guides Tool)![](arror_normal.png)：参考线模式，可以创建、移动、删除、设置参考线。参考线帮助确定图片位置。

矩形选择工具(Rectangle Select Tool)![](rect_normal.png)：矩形选择模式，可以创建、移动、删除、设置矩形选择区域。矩形区域确定裁剪区域。

    备注：参考线工具和矩形选择工具为互斥模式，同时只有一个生效。

### 1.3 裁剪区域

通过刻度尺显示对应的分辨率，中间的图片部分为视频参考图片。

通过工具栏选择参考线模式后，可以通过左键拖动水平或者垂直的刻度尺，创建一个对应的参考线，双击参考线时可以设置参考线所在位置的百分比。

通过工具栏选择矩形选择模式后，在参考图片区域内左键可以选中需要裁剪的视屏区域，并创建了一个已命名的区域。双击矩形区域可以设置该区域上下左右所在位置的百分比，可以设置区域名。

缩放：通过快捷键 Ctrl + 放大；Ctrl - 缩小；也可以通过 Ctrl 滚动 缩放指定位置。缩放最大为设置的分辨率大小，最小为缩放窗口大小。

    备注：操作时请留意参考线模式和矩形选择模式。参考线模式下无法操作矩形区域，矩形选择模式下无法操作参考线。

## 2 参数设定

### 2.1 输入文件（Input）

#### 一般视频文件

市面上常见媒体文件应该都是支持的。如果文件内包含多路音视频，那么会选择内部排序第一的视频和音频。

#### 输入序列帧

选择起始序列帧作为输入文件，注意同时需要设定帧率。

序列帧文件名要求以数字结尾，比如image001.png, image002.png, image003.png ... image123.png，
或者没有前置的0也行，比如image1.png, image2.png, image3.png ... image123.png。

中间如果有缺的需要补上先。

#### 信息栏

右边的信息栏可以看到输入文件的各种信息。

### 2.2 输入音轨（External Audio）

设定输入音轨的情形下，如果勾选覆盖选项，输出文件采用输入音轨，否则只有在输入视频不包含音轨的情形下才会采用。

### 2.3 起始时间和结束时间（Start, End）

输出的视频将只包含设定的部分，注意输入的视频和音轨都必须包含这部分时间。把结束时间设为0会变为输入视频的长度。

### 2.4 线程数（Threads）

编码器占用的线程数量，默认会占用处理器逻辑核心总数的75%。提高这个值可以加快编码速度，但可能会影响其他程序工作。

### 2.5 编码器（Video Codec）

一般情况下建议用H264/AVC，输出的文件解码较快。
有高压缩率要求的可以用H265/HEVC。

后面带有(Hardware)字样的是硬件编码，速度较快，但需要有合适的nvidia显卡支持才能用。
同时不同型号的显卡对编码有不同的分辨率限制，超出分辨率限制会报告No NVENC capable devices found.
这时候如果编码格式用的是h264/avc的话可以先试试换用h265/hevc，很多型号显卡的h265/hevc编码分辨率要比h264/avc大。或者换用软件编码。

### 2.6 像素格式（Pixel Format）

大多数视频都是用YUV420的，有特别要求才需要设定。

### 2.7 编码速度（Preset）

其他参数都相同的情况下，理论上编码越快画质越差，编码越慢画质越好。

### 2.8 关键帧间隔（I-Frame Interval）

这个值特殊场景才要设定，建议就用默认的25。

### 2.9 全局码率（Global Bitrate）

修改全局码率值时，所有标签页的码率和全局码率同步。

### 2.10 缩放（Scale）

按比例调整输出文件的分辨率。

### 2.11 码率（Bitrate）

其他参数都相同的情况下，理论上码率越大画质越好。

## 3 错误信息

### 3.1 输入文件不支持

#### Invalid input video

输入文件不包含视频，或者其包装格式、编码格式不支持。

### 3.2 输入文件长度小于结束时间

#### Input video duration less than end time

输入文件的视频长度比设定的结束时间要短。

### 3.3 输入音轨长度小于结束时间

#### External audio duration less than end time

输入音轨的长度比设定的结束时间要短。

### 3.4 输入音轨不支持

#### Invalid external audio file

输入音轨文件不包含音频，或者其包装格式、编码格式不支持。

### 3.5 硬件编码器配置失败

#### No NVENC capable devices found

没装NVIDIA显卡、显卡驱动，或显卡不支持设定的编码格式和分辨率。

### 3.6 其他不常见的错误

#### Transcode has failed

发生了其他不常见的错误，如磁盘空间不足，内存不足，被其他软件干扰，程序文件缺失、损坏等。
